<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Claudia & Jack's Baby Gender Reveal</title>
  <style>
    :root {
      --accent: #059669;
      --accent-dark: #065f46;
      --muted: #9ca3af;
      --bg: #ecfdf5;
      --card: #ffffff;
      --dark: #064e3b;
    }

    html, body {
      height: 100%;
      margin: 0;
      font-family: "Segoe UI", Arial, sans-serif;
      background: var(--bg);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .container {
      width: 94%;
      max-width: 520px;
      background: var(--card);
      border-radius: 14px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.08);
      padding: 28px;
      text-align: center;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    h1 {
      margin: 0 0 12px 0;
      font-size: 1.4rem;
      color: var(--dark);
    }

    p { color: #374151; margin: 0 0 18px 0; }

    /* Landing fade */
    #start-screen {
      transition: opacity 400ms ease, transform 400ms ease;
    }
    #start-screen.hidden {
      opacity: 0;
      transform: translateY(-12px);
      pointer-events: none;
    }

    /* Quiz area */
    #quiz {
      display: none;
      position: relative;
    }

    .question {
      display: none;
      opacity: 0;
      transform: translateX(30px);
      transition: opacity 350ms ease, transform 350ms ease;
      text-align: left;
      position: relative;
      z-index: 2;
    }
    .question.visible {
      display: block;
      opacity: 1;
      transform: translateX(0);
    }

    .answers label {
      display: block;
      margin: 8px 0;
      cursor: pointer;
      user-select: none;
    }
    .answers input { margin-right: 10px; }

    #quiz-nav {
      margin-top: 22px;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 8px;
      position: relative;
      z-index: 3;
    }

    button {
      background: var(--accent);
      color: white;
      border: none;
      padding: 10px 14px;
      border-radius: 8px;
      font-size: 1rem;
      cursor: pointer;
      transition: background 150ms;
    }
    button:disabled {
      background: var(--muted);
      cursor: not-allowed;
    }
    #backBtn {
      background: #d1fae5;
      color: var(--dark);
    }
    button:hover:enabled { background: var(--accent-dark); }

    /* Result overlay */
    #result-screen {
      position: fixed;
      inset: 0;
      background: rgba(6, 78, 59, 0.94);
      color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      gap: 18px;
      z-index: 200;
      opacity: 0;
      pointer-events: none;
      transition: opacity 600ms ease;
      text-align: center;
      padding: 20px;
    }
    #result-screen.visible {
      opacity: 1;
      pointer-events: auto;
    }
    #result-title {
      font-size: 1.4rem;
      color: white;
    }
    #result-sub {
      font-size: 1rem;
      color: white;
    }

    /* Reveal text */
    #big-reveal {
      font-size: 2rem;
      font-weight: bold;
      color: white;
      opacity: 0;
      transition: opacity 1s ease;
      white-space: pre-line;
    }

    #reveal-subtext {
      font-size: 1.1rem;
      color: white;
      opacity: 0;
      transition: opacity 1s ease;
    }

    /* Confetti */
    .confetti {
      position: fixed;
      width: 10px;
      height: 10px;
      top: -10px;
      background: #34d399;
      opacity: 0.9;
      animation: fall linear forwards;
      z-index: 300;
      border-radius: 2px;
    }

    @keyframes fall {
      to {
        transform: translateY(110vh) rotate(720deg);
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Claudia & Jack's Baby Gender Reveal</h1>

    <!-- Landing -->
    <div id="start-screen">
      <p>Nothing comes easy with us â€“ you'll have to answer some questions to prove you know us first...</p>
      <button id="startBtn">Let's Go!</button>
    </div>

    <!-- Quiz -->
    <div id="quiz">
      <div id="questions-wrapper"></div>
      <div id="quiz-nav">
        <button id="backBtn">Back</button>
        <button id="nextBtn" disabled>Next</button>
      </div>
    </div>
  </div>

  <!-- Result -->
  <div id="result-screen">
    <h2 id="result-title"></h2>
    <p id="result-sub"></p>
    <h1 id="big-reveal"></h1>
    <p id="reveal-subtext"></p>
    <button id="restartBtn">Restart</button>
  </div>

  <script>
    const questionBank = [
      { q: "Where did Jack & Claudia first meet?", options: ['Hampton Court Palace','Clapham Infernos','Brockwell Park'], correct: 'Brockwell Park' },
      { q: "What does Claudia want?", options: ['Boy','Girl','No Preference'], correct: 'Girl' },
      { q: "What does Jack want?", options: ['Boy','Girl','No Preference'], correct: 'No Preference' },
      { q: "Where do Claudia & Jack currently live?", options: ['Berkshire','Essex','Hertfordshire'], correct: 'Berkshire' },
      { q: "What date was Jack & Claudia's wedding?", options: ['12th July','21st July','5th July'], correct: '12th July' },
      { q: "How many siblings do Claudia & Jack have, combined?", options: ['4','5','6'], correct: '4' },
      { q: "What did Claudia study at university?", options: ['Computer Science','History','Mathematics'], correct: 'History' },
      { q: "Where was Jack & Claudia's honeymoon?", options: ['Corfu','Croydon','Corsica'], correct: 'Corfu' },
      { q: "What is the name of Claudia & Jack's dog?", options: ['Rose','Shamrock','Clover'], correct: 'Clover' },
      { q: "What is Jack & Claudia's surname?", options: ['Stromahoney','O\'Mange','Strange-O\'Mahoney'], correct: 'Strange-O\'Mahoney' }
    ];

    const startBtn = document.getElementById('startBtn');
    const startScreen = document.getElementById('start-screen');
    const quizDiv = document.getElementById('quiz');
    const wrapper = document.getElementById('questions-wrapper');
    const nextBtn = document.getElementById('nextBtn');
    const backBtn = document.getElementById('backBtn');
    const resultScreen = document.getElementById('result-screen');
    const resultTitle = document.getElementById('result-title');
    const resultSub = document.getElementById('result-sub');
    const restartBtn = document.getElementById('restartBtn');
    const bigReveal = document.getElementById('big-reveal');
    const revealSubtext = document.getElementById('reveal-subtext');

    let selectedQuestions = [];
    let current = 0;
    const total = 5;

    function pickRandom(arr, n) {
      const copy = arr.slice();
      const result = [];
      for (let i = 0; i < n && copy.length; i++) {
        result.push(copy.splice(Math.floor(Math.random() * copy.length), 1)[0]);
      }
      return result;
    }

    function buildQuestions() {
      wrapper.innerHTML = '';
      selectedQuestions.forEach((item, i) => {
        const q = document.createElement('div');
        q.className = 'question';
        q.id = `q${i + 1}`;
        q.innerHTML = `<p><strong>${i + 1}.</strong> ${item.q}</p>`;
        const ans = document.createElement('div');
        ans.className = 'answers';
        item.options.forEach((opt) => {
          const label = document.createElement('label');
          label.innerHTML = `<input type="radio" name="q${i + 1}" value="${opt}"> ${opt}`;
          ans.appendChild(label);
        });
        q.appendChild(ans);
        wrapper.appendChild(q);
      });
    }

    function showQuestion(i) {
      const qs = document.querySelectorAll('.question');
      qs.forEach((q, idx) => {
        q.classList.remove('visible');
        if (idx === i) q.classList.add('visible');
      });
      backBtn.style.display = i === 0 ? 'none' : 'inline-block';
      nextBtn.textContent = i === total - 1 ? 'Confirm' : 'Next';
      const checked = document.querySelector(`input[name="q${i + 1}"]:checked`);
      nextBtn.disabled = !checked;
    }

    startBtn.addEventListener('click', () => {
      startScreen.classList.add('hidden');
      selectedQuestions = pickRandom(questionBank, total);
      setTimeout(() => {
        quizDiv.style.display = 'block';
        buildQuestions();
        current = 0;
        showQuestion(0);
      }, 420);
    });

    wrapper.addEventListener('change', (e) => {
      if (e.target.type === 'radio') {
        const name = e.target.name;
        const idx = parseInt(name.replace('q', '')) - 1;
        if (idx === current) nextBtn.disabled = false;
      }
    });

    nextBtn.addEventListener('click', () => {
      if (current < total - 1) {
        current++;
        showQuestion(current);
      } else {
        showResults();
      }
    });

    backBtn.addEventListener('click', () => {
      if (current > 0) {
        current--;
        showQuestion(current);
      }
    });

    function showResults() {
      let wrong = 0;
      selectedQuestions.forEach((q, i) => {
        const sel = document.querySelector(`input[name="q${i + 1}"]:checked`);
        if (!sel || sel.value !== q.correct) wrong++;
      });

      // Reset visibility
      bigReveal.style.opacity = 0;
      revealSubtext.style.opacity = 0;

      if (wrong === 0) {
        resultTitle.textContent = "ðŸŽ‰ Well done! You got all questions correct. We can now reveal that Jack & Claudia are having...";
        resultSub.textContent = "";
        restartBtn.style.display = "none";

        resultScreen.classList.add('visible');

        // Step 1: drop confetti after short delay
        setTimeout(() => triggerConfetti(), 1000);

        // Step 2: fade out text after confetti
        setTimeout(() => {
          resultTitle.style.opacity = 0;
        }, 4500);

        // Step 3: show big reveal
        setTimeout(() => {
          resultTitle.textContent = "";
          bigReveal.textContent = "... a GIRL! ðŸ’•";
          bigReveal.style.opacity = 1;
          revealSubtext.textContent = "Please keep to yourself so others can enjoy this 'fun'...";
          setTimeout(() => {
            revealSubtext.style.opacity = 1;
          }, 600);
        }, 5500);

      } else {
        resultTitle.textContent = "Better luck next time!";
        resultSub.textContent = `You answered ${total - wrong} of ${total} correctly.`;
        restartBtn.style.display = "inline-block";
        resultScreen.classList.add('visible');
      }
    }

    restartBtn.addEventListener('click', () => {
      resultScreen.classList.remove('visible');
      selectedQuestions = pickRandom(questionBank, total);
      buildQuestions();
      current = 0;
      showQuestion(0);
    });

    // ðŸŽŠ Confetti animation
    function triggerConfetti() {
      for (let i = 0; i < 100; i++) {
        const confetti = document.createElement('div');
        confetti.classList.add('confetti');
        confetti.style.left = Math.random() * 100 + 'vw';
        confetti.style.background = `hsl(${Math.random() * 60 + 100}, 70%, 50%)`;
        confetti.style.animationDuration = Math.random() * 2 + 3 + 's';
        confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 5000);
      }
    }
  </script>
</body>
</html>
